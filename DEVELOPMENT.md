# Typekon 開発計画

## 現在の状態
- [x] 基本的なカラードット表示
- [x] 型ごとに異なる色
- [x] 継承チェーン表示（●●●）
- [x] 変数名の後ろに表示
- [x] ホバーで継承情報表示

## 次のタスク（優先順位順）

### Phase 1: 複数色対応（継承チェーンを色分け）
- [x] 各●を異なる色で表示（Integer=赤、Number=青、Object=緑 のように）
- 方法: 複数のデコレーションをmarginでずらして重ねて表示

### Phase 2: 型検出の精度向上
- [x] クラス定義の型も検出 (`class Foo { bar: String }`)
- [x] 関数の戻り値型も検出 (`function foo(): String`)
- [x] インターフェース定義内のプロパティ
- [x] 関数パラメータ（複数対応）

### Phase 3: LSP連携
- [x] `vscode.executeDocumentSymbolProvider` でシンボル一覧を取得
- [x] `vscode.executeHoverProvider` で正確な型情報を取得
- [x] `vscode.provideDocumentSemanticTokens` で変数使用箇所を取得
- [ ] 動的に継承チェーンを解析（KNOWN_INHERITANCE不要に）
- [ ] ジェネリクスの型パラメータも表示

### Phase 4: UI改善
- [x] SVGベースのidenticon表示（5x5パターン）
- [x] アイコンを下揃えに配置、フォントサイズに合わせた高さ
- [x] 表示箇所の設定（宣言、パラメータ、使用箇所）
- [ ] 設定画面でカスタムカラー指定
- [ ] ガター表示オプション

### Phase 5: 追加機能
- [ ] 型エラー時のハイライト（赤色表示）
- [ ] ホバー時に継承ツリーをポップアップ表示
- [ ] 型定義へのジャンプリンク

## 開発の進め方

1. このファイルを読み込む
2. 未完了タスク `[ ]` の最初のものに着手
3. 実装 → コンパイル → 動作確認
4. 完了したら `[x]` に更新
5. 次のタスクへ

## テスト方法
```bash
npm run compile
# F5 でデバッグ実行
# test-samples/sample.ts を開いて確認
```

## 注意事項
- `vscode.Uri.parse()` にData URIを渡すとクラッシュする
- デコレーションは `after` で変数名の後ろに表示
- コンパイルエラーが出たら必ず修正してから次へ
